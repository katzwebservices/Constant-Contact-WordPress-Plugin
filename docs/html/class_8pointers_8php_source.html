<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>Constant Contact for WordPress: class.pointers.php Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo-horizontal.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Constant Contact for WordPress
   &#160;<span id="projectnumber">3.0.1</span>
   </div>
   <div id="projectbrief">Powerfully integrate Constant Contact into your WordPress website.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_8pointers_8php_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">class.pointers.php</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;&lt;?php<span class="comment"></span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> * @package Admin</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="keywordflow">if</span> ( !defined(<span class="stringliteral">&#39;CTCT_VERSION&#39;</span>) ) {</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    header(<span class="stringliteral">&#39;HTTP/1.0 403 Forbidden&#39;</span>);</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    wp_die();</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;}</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * This class handles the pointers used in the introduction tour.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * @todo Add an introdutory pointer on the edit post page too.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno"><a class="code" href="class_c_t_c_t___pointers.html">   16</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_c_t_c_t___pointers.html" title="This class handles the pointers used in the introduction tour. ">CTCT_Pointers</a> {</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">     * Class constructor.</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="code" href="class_c_t_c_t___pointers.html#a3e325a79bcea56c3c167a6fc92d829ed">   21</a></span>&#160;    <span class="keyword">function</span> <a class="code" href="class_c_t_c_t___pointers.html#a3e325a79bcea56c3c167a6fc92d829ed" title="Class constructor. ">__construct</a>() {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;        global $wp_version;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <span class="comment">// Make sure WordPress supports pointers</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;        <span class="keywordflow">if</span> ( version_compare($wp_version, <span class="stringliteral">&#39;3.4&#39;</span>, <span class="charliteral">&#39;&lt;&#39;</span>) ) {</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        }</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        add_action( <span class="stringliteral">&#39;admin_enqueue_scripts&#39;</span>, array( $this, <span class="stringliteral">&#39;enqueue&#39;</span> ) );</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    }</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">     * Enqueue styles and scripts needed for the pointers.</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00035"></a><span class="lineno"><a class="code" href="class_c_t_c_t___pointers.html#ab2d6906f7b23a7d6257b4392b794469d">   35</a></span>&#160;    <span class="keyword">function</span> <a class="code" href="class_c_t_c_t___pointers.html#ab2d6906f7b23a7d6257b4392b794469d" title="Enqueue styles and scripts needed for the pointers. ">enqueue</a>() {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keywordflow">if</span> ( ! current_user_can(<span class="stringliteral">&#39;manage_options&#39;</span>) )</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        $options = get_option( <span class="stringliteral">&#39;ctct_pointers&#39;</span>, array());</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">        #if ( !isset( $options[&#39;ctct_tracking&#39;] ) || ( !isset( $options[&#39;ignore_tour&#39;] ) || !$options[&#39;ignore_tour&#39;] ) ) {</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor"></span>            wp_enqueue_style( <span class="stringliteral">&#39;wp-pointer&#39;</span> );</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;            wp_enqueue_script( <span class="stringliteral">&#39;jquery-ui&#39;</span> );</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            wp_enqueue_script( <span class="stringliteral">&#39;wp-pointer&#39;</span> );</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            wp_enqueue_script( <span class="stringliteral">&#39;utils&#39;</span> );</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="preprocessor">        #}</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor"></span><span class="preprocessor">        #if ( !isset( $options[&#39;tracking_popup&#39;] ) &amp;&amp; !isset( $_GET[&#39;allow_tracking&#39;] ) ) {</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor"></span><span class="preprocessor">        #   add_action( &#39;admin_print_footer_scripts&#39;, array( $this, &#39;tracking_request&#39; ) );</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor"></span><span class="preprocessor">        #} else if ( !isset( $options[&#39;ignore_tour&#39;] ) || !$options[&#39;ignore_tour&#39;] ) {</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor"></span>            add_action( <span class="stringliteral">&#39;admin_print_scripts&#39;</span>, array( $this, <span class="stringliteral">&#39;intro_tour&#39;</span> ), 100);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">            #add_action( &#39;admin_print_footer_scripts&#39;, array( $this, &#39;intro_tour&#39; ) );</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor"></span>            add_action( <span class="stringliteral">&#39;admin_head&#39;</span>, array( $this, <span class="stringliteral">&#39;admin_head&#39;</span> ) );</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">        #}</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">     * Shows a popup that asks for permission to allow tracking.</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="code" href="class_c_t_c_t___pointers.html#a59cb3084de43caa30b3e0797396f4bae">   58</a></span>&#160;    <span class="keyword">function</span> <a class="code" href="class_c_t_c_t___pointers.html#a59cb3084de43caa30b3e0797396f4bae" title="Shows a popup that asks for permission to allow tracking. ">tracking_request</a>() {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        $id    = <span class="stringliteral">&#39;#wpadminbar&#39;</span>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        $nonce = wp_create_nonce( <span class="stringliteral">&#39;ctct_activate_tracking&#39;</span> );</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        $content = <span class="stringliteral">&#39;&lt;h3&gt;&#39;</span> . __( <span class="stringliteral">&#39;Help improve the Constant Contact plugin&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h3&gt;&#39;</span>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        $content .= <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . __( <span class="stringliteral">&#39;You\&#39;ve just installed Constant Contact WordPress Plugin by Katz Web Services. Please helps us improve it by allowing us to gather anonymous usage stats so we know which configurations, plugins and themes to test with.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        $opt_arr   = array(</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="stringliteral">&#39;content&#39;</span>  =&gt; $content,</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="stringliteral">&#39;position&#39;</span> =&gt; array( <span class="stringliteral">&#39;edge&#39;</span> =&gt; <span class="stringliteral">&#39;top&#39;</span>, <span class="stringliteral">&#39;align&#39;</span> =&gt; <span class="stringliteral">&#39;center&#39;</span> )</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        );</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        $button2   = __( <span class="stringliteral">&#39;Allow tracking&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> );</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        $function2 = <span class="stringliteral">&#39;ctct_store_answer(&quot;yes&quot;,&quot;&#39;</span>.$nonce.<span class="stringliteral">&#39;&quot;)&#39;</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        $function1 = <span class="stringliteral">&#39;ctct_store_answer(&quot;no&quot;,&quot;&#39;</span>.$nonce.<span class="stringliteral">&#39;&quot;)&#39;</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        $this-&gt;print_scripts( $id, $opt_arr, __( <span class="stringliteral">&#39;Do not allow tracking&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ), $button2, $function2, $function1 );</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment">     * Load the introduction tour</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00079"></a><span class="lineno"><a class="code" href="class_c_t_c_t___pointers.html#af935c6f086a9518d45c05af633e14eb1">   79</a></span>&#160;    <span class="keyword">function</span> <a class="code" href="class_c_t_c_t___pointers.html#af935c6f086a9518d45c05af633e14eb1" title="Load the introduction tour. ">intro_tour</a>() {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        global $pagenow, $current_user, $plugin_page;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        $adminpages = array(</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            <span class="stringliteral">&#39;constant-contact-api&#39;</span>  =&gt; array(</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                <span class="stringliteral">&#39;setup&#39;</span> =&gt; array(</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                    <span class="stringliteral">&#39;target&#39;</span> =&gt; <span class="stringliteral">&#39;#setup-link&#39;</span>,</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                    <span class="stringliteral">&#39;content&#39;</span>  =&gt; <span class="stringliteral">&#39;&lt;h3&gt;&#39;</span> . __( <span class="stringliteral">&#39;Setup&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h3&gt;&lt;p&gt;&#39;</span> . __( <span class="stringliteral">&#39;This is where you connect&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                        . <span class="stringliteral">&#39;&lt;p&gt;&lt;strong&gt;&#39;</span> . __( <span class="stringliteral">&#39;More WordPress SEO&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/strong&gt;&lt;br/&gt;&#39;</span> . sprintf( __( <span class="stringliteral">&#39;There\&#39;s more to learn about WordPress &amp; SEO than just using this plugin. Read our article %1$sthe definitive guide to WordPress SEO%2$s.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ), <span class="stringliteral">&#39;&lt;a target=&quot;_blank&quot; href=&quot;http://yoast.com/articles/wordpress-seo/#utm_source=wpadmin&amp;utm_medium=ctct_tour&amp;utm_term=link&amp;utm_campaign=ctctplugin&quot;&gt;&#39;</span>, <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                        . <span class="stringliteral">&#39;&lt;p&gt;&lt;strong&gt;&#39;</span> . __( <span class="stringliteral">&#39;Webmaster Tools&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/strong&gt;&lt;br/&gt;&#39;</span> . __( <span class="stringliteral">&#39;Underneath the General Settings, you can add the verification codes for the different Webmaster Tools programs, I highly encourage you to check out both Google and Bing\&#39;s Webmaster Tools.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                        . <span class="stringliteral">&#39;&lt;p&gt;&lt;strong&gt;&#39;</span> . __( <span class="stringliteral">&#39;About This Tour&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/strong&gt;&lt;br/&gt;&#39;</span> . __( <span class="stringliteral">&#39;Clicking Next below takes you to the next page of the tour. If you want to stop this tour, click &quot;Close&quot;.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                        . <span class="stringliteral">&#39;&lt;p&gt;&lt;strong&gt;&#39;</span> . __( <span class="stringliteral">&#39;Like this plugin?&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/strong&gt;&lt;br/&gt;&#39;</span> . sprintf( __( <span class="stringliteral">&#39;If you like this plugin, please %srate it 5 stars on WordPress.org%s and consider making a donation by clicking the button on the right!&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ), <span class="stringliteral">&#39;&lt;a target=&quot;_blank&quot; href=&quot;http://wordpress.org/extend/plugins/wordpress-seo/&quot;&gt;&#39;</span>, <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span> .</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                        <span class="stringliteral">&#39;&lt;p&gt;&lt;strong&gt;&#39;</span> . __( <span class="stringliteral">&#39;Newsletter&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/strong&gt;&#39;</span>,</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    <span class="stringliteral">&#39;button2&#39;</span>  =&gt; __( <span class="stringliteral">&#39;Next&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                    <span class="stringliteral">&#39;function&#39;</span> =&gt; <span class="stringliteral">&#39;jQuery(this).parents(&quot;.wp-pointer:visible&quot;).hide(); jQuery(&quot;#registration-link&quot;).click();&#39;</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                ),</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                <span class="stringliteral">&#39;registration&#39;</span> =&gt; array(</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                    <span class="stringliteral">&#39;content&#39;</span>  =&gt; <span class="stringliteral">&quot;&lt;h3&gt;&quot;</span> . __( <span class="stringliteral">&quot;Title &amp;amp; Description settings&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&quot;&lt;/h3&gt;&quot;</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                        . <span class="stringliteral">&quot;&lt;p&gt;&quot;</span> . __( <span class="stringliteral">&quot;This is where you set the templates for your titles and descriptions of all the different types of pages on your blog, be it your homepage, posts &amp; pages (under post types), category or tag archives (under taxonomy archives), or even custom post type archives and custom posts: all of that is done from here.&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&quot;&lt;/p&gt;&quot;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                        . <span class="stringliteral">&quot;&lt;p&gt;&lt;strong&gt;&quot;</span> . __( <span class="stringliteral">&quot;Templates&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&quot;&lt;/strong&gt;&lt;br/&gt;&quot;</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                        . __( <span class="stringliteral">&quot;The templates are built using variables, the help tab for all the different variables available to you to use in these.&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&quot;&lt;/p&gt;&quot;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                        . <span class="stringliteral">&quot;&lt;p&gt;&lt;strong&gt;&quot;</span> . __( <span class="stringliteral">&quot;Sitewide settings&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&quot;&lt;/strong&gt;&lt;br/&gt;&quot;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                        . __( <span class="stringliteral">&quot;You can also set some settings for the entire site here to add specific meta tags or to remove some unneeded cruft.&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&quot;&lt;/p&gt;&quot;</span>,</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    <span class="stringliteral">&#39;button2&#39;</span>  =&gt; __( <span class="stringliteral">&#39;Next&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ),</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                    <span class="stringliteral">&#39;function&#39;</span> =&gt; <span class="stringliteral">&#39;window.location=&quot;&#39;</span> . admin_url( <span class="stringliteral">&#39;admin.php?page=ctct_social&#39;</span> ) . <span class="stringliteral">&#39;&quot;;&#39;</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                ),</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="stringliteral">&#39;ctct_social&#39;</span>         =&gt; array(</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    <span class="stringliteral">&#39;content&#39;</span>  =&gt; <span class="stringliteral">&quot;&lt;h3&gt;&quot;</span> . __( <span class="stringliteral">&quot;Social settings&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&quot;&lt;/h3&gt;&quot;</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                        . <span class="stringliteral">&quot;&lt;p&gt;&lt;strong&gt;&quot;</span> . __( <span class="stringliteral">&#39;Facebook OpenGraph&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/strong&gt;&lt;br/&gt;&#39;</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                        . __( <span class="stringliteral">&quot;On this page you can enable the OpenGraph functionality from this plugin, as well as assign a Facebook user or Application to be the admin of your site, so you can view the Facebook insights.&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&quot;&lt;/p&gt;&quot;</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                        . <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . sprintf( __( <span class="stringliteral">&#39;Read more about %1$sFacebook OpenGraph%2$s.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ), <span class="stringliteral">&#39;&lt;a target=&quot;_blank&quot; href=&quot;http://yoast.com/facebook-open-graph-protocol/#utm_source=wpadmin&amp;utm_medium=ctct_tour&amp;utm_term=link&amp;utm_campaign=ctctplugin&quot;&gt;&#39;</span>, <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span> ) . <span class="stringliteral">&quot;&lt;/p&gt;&quot;</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                        . <span class="stringliteral">&quot;&lt;p&gt;&lt;strong&gt;&quot;</span> . __( <span class="stringliteral">&#39;Twitter Cards&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/strong&gt;&lt;br/&gt;&#39;</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                        . sprintf( __( <span class="stringliteral">&#39;This functionality is currently in beta, but it allows for %1$sTwitter Cards%2$s.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ), <span class="stringliteral">&#39;&lt;a target=&quot;_blank&quot; href=&quot;http://yoast.com/twitter-cards/#utm_source=wpadmin&amp;utm_medium=ctct_tour&amp;utm_term=link&amp;utm_campaign=ctctplugin&quot;&gt;&#39;</span>, <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span> ) . <span class="stringliteral">&quot;&lt;/p&gt;&quot;</span>,</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                    <span class="stringliteral">&#39;button2&#39;</span>  =&gt; __( <span class="stringliteral">&#39;Next&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ),</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                    <span class="stringliteral">&#39;function&#39;</span> =&gt; <span class="stringliteral">&#39;window.location=&quot;&#39;</span> . admin_url( <span class="stringliteral">&#39;admin.php?page=ctct_xml&#39;</span> ) . <span class="stringliteral">&#39;&quot;;&#39;</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                ),</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                <span class="stringliteral">&#39;ctct_xml&#39;</span>            =&gt; array(</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                    <span class="stringliteral">&#39;content&#39;</span>  =&gt; <span class="stringliteral">&#39;&lt;h3&gt;&#39;</span> . __( <span class="stringliteral">&#39;XML Sitemaps&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h3&gt;&lt;p&gt;&#39;</span> . __( <span class="stringliteral">&#39;This plugin adds an XML sitemap to your site. It\&#39;s automatically updated when you publish a new post, page or custom post and Google and Bing will be automatically notified.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&lt;p&gt;&#39;</span> . __( <span class="stringliteral">&#39;Be sure to check whether post types or taxonomies are showing that search engines shouldn\&#39;t be indexing, if so, check the box before them to hide them from the XML sitemaps.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>,</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                    <span class="stringliteral">&#39;button2&#39;</span>  =&gt; __( <span class="stringliteral">&#39;Next&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ),</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                    <span class="stringliteral">&#39;function&#39;</span> =&gt; <span class="stringliteral">&#39;window.location=&quot;&#39;</span> . admin_url( <span class="stringliteral">&#39;admin.php?page=ctct_permalinks&#39;</span> ) . <span class="stringliteral">&#39;&quot;;&#39;</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                ),</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <span class="stringliteral">&#39;ctct_permalinks&#39;</span>     =&gt; array(</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                    <span class="stringliteral">&#39;content&#39;</span>  =&gt; <span class="stringliteral">&#39;&lt;h3&gt;&#39;</span> . __( <span class="stringliteral">&#39;Permalink Settings&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h3&gt;&lt;p&gt;&#39;</span> . __( <span class="stringliteral">&#39;All of the options here are for advanced users only, if you don\&#39;t know whether you should check any, don\&#39;t touch them.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>,</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                    <span class="stringliteral">&#39;button2&#39;</span>  =&gt; __( <span class="stringliteral">&#39;Next&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ),</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    <span class="stringliteral">&#39;function&#39;</span> =&gt; <span class="stringliteral">&#39;window.location=&quot;&#39;</span> . admin_url( <span class="stringliteral">&#39;admin.php?page=ctct_internal-links&#39;</span> ) . <span class="stringliteral">&#39;&quot;;&#39;</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                ),</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <span class="stringliteral">&#39;ctct_internalLinks&#39;</span> =&gt; array(</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                    <span class="stringliteral">&#39;content&#39;</span>  =&gt; <span class="stringliteral">&#39;&lt;h3&gt;&#39;</span> . __( <span class="stringliteral">&#39;Breadcrumbs Settings&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h3&gt;&lt;p&gt;&#39;</span> . sprintf( __( <span class="stringliteral">&#39;If your theme supports my breadcrumbs, as all Genesis and WooThemes themes as well as a couple of other ones do, you can change the settings for those here. If you want to modify your theme to support them, %sfollow these instructions%s.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ), <span class="stringliteral">&#39;&lt;a target=&quot;_blank&quot; href=&quot;http://yoast.com/wordpress/breadcrumbs/#utm_source=wpadmin&amp;utm_medium=ctct_tour&amp;utm_term=link&amp;utm_campaign=ctctplugin&quot;&gt;&#39;</span>, <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                    <span class="stringliteral">&#39;button2&#39;</span>  =&gt; __( <span class="stringliteral">&#39;Next&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ),</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                    <span class="stringliteral">&#39;function&#39;</span> =&gt; <span class="stringliteral">&#39;window.location=&quot;&#39;</span> . admin_url( <span class="stringliteral">&#39;admin.php?page=ctct_rss&#39;</span> ) . <span class="stringliteral">&#39;&quot;;&#39;</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                ),</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                <span class="stringliteral">&#39;ctct_rss&#39;</span>            =&gt; array(</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                    <span class="stringliteral">&#39;content&#39;</span>  =&gt; <span class="stringliteral">&#39;&lt;h3&gt;&#39;</span> . __( <span class="stringliteral">&#39;RSS Settings&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h3&gt;&lt;p&gt;&#39;</span> . __( <span class="stringliteral">&#39;This incredibly powerful function allows you to add content to the beginning and end of your posts in your RSS feed. This helps you gain links from people who steal your content!&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>,</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                    <span class="stringliteral">&#39;button2&#39;</span>  =&gt; __( <span class="stringliteral">&#39;Next&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ),</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                    <span class="stringliteral">&#39;function&#39;</span> =&gt; <span class="stringliteral">&#39;window.location=&quot;&#39;</span> . admin_url( <span class="stringliteral">&#39;admin.php?page=ctct_import&#39;</span> ) . <span class="stringliteral">&#39;&quot;;&#39;</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                ),</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <span class="stringliteral">&#39;ctct_import&#39;</span>         =&gt; array(</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    <span class="stringliteral">&#39;content&#39;</span>  =&gt; <span class="stringliteral">&#39;&lt;h3&gt;&#39;</span> . __( <span class="stringliteral">&#39;Import &amp;amp; Export&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h3&gt;&lt;p&gt;&#39;</span> . __( <span class="stringliteral">&#39;Just switched over from another SEO plugin? Use the options here to switch your data over. If you were using some of my older plugins like Robots Meta &amp;amp; RSS Footer, you can import the settings here too.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&lt;p&gt;&#39;</span> . __( <span class="stringliteral">&#39;If you have multiple blogs and you\&#39;re happy with how you\&#39;ve configured this blog, you can export the settings and import them on another blog so you don\&#39;t have to go through this process twice!&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>,</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <span class="stringliteral">&#39;button2&#39;</span>  =&gt; __( <span class="stringliteral">&#39;Next&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ),</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    <span class="stringliteral">&#39;function&#39;</span> =&gt; <span class="stringliteral">&#39;window.location=&quot;&#39;</span> . admin_url( <span class="stringliteral">&#39;admin.php?page=ctct_files&#39;</span> ) . <span class="stringliteral">&#39;&quot;;&#39;</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                ),</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="stringliteral">&#39;ctct_files&#39;</span>          =&gt; array(</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                    <span class="stringliteral">&#39;content&#39;</span>  =&gt; <span class="stringliteral">&#39;&lt;h3&gt;&#39;</span> . __( <span class="stringliteral">&#39;File Editor&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h3&gt;&lt;p&gt;&#39;</span> . __( <span class="stringliteral">&#39;Here you can edit the .htaccess and robots.txt files, two of the most powerful files in your WordPress install. Only touch these files if you know what you\&#39;re doing!&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                        . <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . sprintf( __( <span class="stringliteral">&#39;The tour ends here, thank you for using my plugin and good luck with your SEO!&lt;br/&gt;&lt;br/&gt;Best,&lt;br/&gt;Joost de Valk - %1$sYoast.com%2$s&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ), <span class="stringliteral">&#39;&lt;a target=&quot;_blank&quot; href=&quot;http://yoast.com/#utm_source=wpadmin&amp;utm_medium=ctct_tour&amp;utm_term=link&amp;utm_campaign=ctctplugin&quot;&gt;&#39;</span>, <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                ),</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            ),</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        );</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">if</span> ( ( defined( <span class="stringliteral">&#39;DISALLOW_FILE_EDIT&#39;</span> ) &amp;&amp; DISALLOW_FILE_EDIT ) || ( defined( <span class="stringliteral">&#39;DISALLOW_FILE_MODS&#39;</span> ) &amp;&amp; DISALLOW_FILE_MODS ) ) {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            unset( $adminpages[<span class="stringliteral">&#39;ctct_files&#39;</span>] );</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            $adminpages[<span class="stringliteral">&#39;ctct_import&#39;</span>][<span class="stringliteral">&#39;function&#39;</span>] = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            unset( $adminpages[<span class="stringliteral">&#39;ctct_import&#39;</span>][<span class="stringliteral">&#39;button2&#39;</span>] );</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            $adminpages[<span class="stringliteral">&#39;ctct_import&#39;</span>][<span class="stringliteral">&#39;content&#39;</span>] .= <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . sprintf( __( <span class="stringliteral">&#39;The tour ends here,thank you for using my plugin and good luck with your SEO!&lt;br/&gt;&lt;br/&gt;Best,&lt;br/&gt;Joost de Valk - %1$sYoast.com%2$s&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ), <span class="stringliteral">&#39;&lt;a href=&quot;http://yoast.com/&quot;&gt;&#39;</span>, <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        $page = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">if</span> ( isset( $_GET[<span class="stringliteral">&#39;page&#39;</span>] ) )</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            $page = $_GET[<span class="stringliteral">&#39;page&#39;</span>];</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        $function = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        $button2  = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        $opt_arr  = array();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        $target   = <span class="stringliteral">&#39;#ctct-settings-tabs ul.ui-tabs-nav li.ui-tabs-active&#39;</span>;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;admin.php&#39;</span> != $pagenow || !array_key_exists( $page, $adminpages ) ) {</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            $target      = <span class="stringliteral">&#39;li.toplevel_page_constant-contact-api&#39;</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            $content = <span class="stringliteral">&#39;&lt;h3&gt;&#39;</span> . __( <span class="stringliteral">&#39;Congratulations!&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/h3&gt;&#39;</span>;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            $content .= <span class="stringliteral">&#39;&lt;p&gt;&#39;</span> . __( <span class="stringliteral">&#39;You\&#39;ve just installed Constant Contact WordPress Plugin! Click &quot;Start Tour&quot; to view a quick introduction of this plugin\&#39;s core functionality.&#39;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&lt;/p&gt;&#39;</span>;</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            $opt_arr  = array(</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="stringliteral">&#39;content&#39;</span>  =&gt; $content,</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="stringliteral">&#39;position&#39;</span> =&gt; array( <span class="stringliteral">&#39;edge&#39;</span> =&gt; <span class="stringliteral">&#39;top&#39;</span>, <span class="stringliteral">&#39;align&#39;</span> =&gt; <span class="stringliteral">&#39;center&#39;</span> )</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            );</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            $button2  = __( <span class="stringliteral">&quot;Start Tour&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> );</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            $function = <span class="stringliteral">&#39;document.location=&quot;&#39;</span> . admin_url( <span class="stringliteral">&#39;admin.php?page=constant-contact-api&#39;</span> ) . <span class="stringliteral">&#39;&quot;;&#39;</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            $this-&gt;print_scripts(<span class="stringliteral">&#39;&#39;</span>, $target, $opt_arr, __( <span class="stringliteral">&quot;Close&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ), $button2, $function );</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            <span class="keywordflow">if</span> ( <span class="stringliteral">&#39;&#39;</span> != $page &amp;&amp; in_array( $page, array_keys( $adminpages ) ) ) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">                #r($adminpages[$page], true);</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor"></span>                <span class="keywordflow">foreach</span> ($adminpages[$page] as $key =&gt; $pointer) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                    $target = !empty($pointer[<span class="stringliteral">&#39;target&#39;</span>]) ? $pointer[<span class="stringliteral">&#39;target&#39;</span>] : $target;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                    $opt_arr  = array(</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                        <span class="stringliteral">&#39;content&#39;</span>      =&gt; $pointer[<span class="stringliteral">&#39;content&#39;</span>],</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                        <span class="stringliteral">&#39;position&#39;</span>     =&gt; array( <span class="stringliteral">&#39;edge&#39;</span> =&gt; <span class="stringliteral">&#39;top&#39;</span>, <span class="stringliteral">&#39;align&#39;</span> =&gt; <span class="stringliteral">&#39;left&#39;</span> ),</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                        <span class="stringliteral">&#39;pointerWidth&#39;</span> =&gt; 400</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    );</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                    $button2  = @$pointer[<span class="stringliteral">&#39;button2&#39;</span>];</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                    $function = @$pointer[<span class="stringliteral">&#39;function&#39;</span>];</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                    $this-&gt;print_scripts( $key, $target, $opt_arr, __( <span class="stringliteral">&quot;Close&quot;</span>, <span class="stringliteral">&#39;constant-contact-api&#39;</span> ), $button2, $function );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            }</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">     * Load a tiny bit of CSS in the head</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00194"></a><span class="lineno"><a class="code" href="class_c_t_c_t___pointers.html#a2083bf661f9c41a8b3a20e6238449155">  194</a></span>&#160;    <span class="keyword">function</span> <a class="code" href="class_c_t_c_t___pointers.html#a2083bf661f9c41a8b3a20e6238449155" title="Load a tiny bit of CSS in the head. ">admin_head</a>() {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        ?&gt;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    &lt;style type=<span class="stringliteral">&quot;text/css&quot;</span> media=<span class="stringliteral">&quot;screen&quot;</span>&gt;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="preprocessor">        #pointer-primary {</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="preprocessor"></span>            margin: 0 5px 0 0;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    &lt;/style&gt;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    &lt;?php</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">    /**</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">     * Prints the pointer script</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">     * @param string      $key              The name of the pointer</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">     * @param string      $selector         The CSS selector the pointer is attached to.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">     * @param array       $options          The options for the pointer.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">     * @param string      $button1          Text for button 1</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">     * @param string|bool $button2          Text for button 2 (or false to not show it, defaults to false)</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">     * @param string      $button2_function The JavaScript function to attach to button 2</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">     * @param string      $button1_function The JavaScript function to attach to button 1</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keyword">function</span> print_scripts( $key, $selector, $options, $button1, $button2 = <span class="keyword">false</span>, $button2_function = <span class="stringliteral">&#39;&#39;</span>, $button1_function = <span class="stringliteral">&#39;&#39;</span> ) {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        $key = empty($key) ? $key : $key.<span class="charliteral">&#39;_&#39;</span>;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        ?&gt;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;    &lt;script&gt;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="comment">//&lt;![CDATA[</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        (<span class="keyword">function</span> ($) {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            var &lt;?php _e($key); ?&gt;ctct_pointer_options = &lt;?php echo json_encode( $options ); ?&gt;, &lt;?php _e($key); ?&gt;setup;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            &lt;?php _e($key); ?&gt;ctct_pointer_options = $.extend(&lt;?php _e($key); ?&gt;ctct_pointer_options, {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                buttons:<span class="keyword">function</span> (event, t) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                    button = jQuery(<span class="stringliteral">&#39;&lt;a id=&quot;pointer-close&quot; style=&quot;margin-left:5px&quot; class=&quot;button-secondary&quot;&gt;&#39;</span> + <span class="stringliteral">&#39;&lt;?php echo $button1; ?&gt;&#39;</span> + <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span>);</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                    button.bind(<span class="stringliteral">&#39;click.pointer&#39;</span>, <span class="keyword">function</span> () {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        t.element.pointer(<span class="stringliteral">&#39;close&#39;</span>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    });</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                    <span class="keywordflow">return</span> button;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                },</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                close:<span class="keyword">function</span> () {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            });</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            </div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            &lt;?php _e($key); ?&gt;setup = <span class="keyword">function</span> () {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                jQuery(<span class="stringliteral">&#39;&lt;?php echo $selector; ?&gt;&#39;</span>).pointer(&lt;?php _e($key); ?&gt;ctct_pointer_options).pointer(<span class="stringliteral">&#39;open&#39;</span>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                &lt;?php <span class="keywordflow">if</span> ( $button2 ) { ?&gt;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                    jQuery(<span class="stringliteral">&#39;#pointer-close&#39;</span>).after(<span class="stringliteral">&#39;&lt;a id=&quot;pointer-primary&quot; class=&quot;button-primary&quot;&gt;&#39;</span> + <span class="stringliteral">&#39;&lt;?php echo $button2; ?&gt;&#39;</span> + <span class="stringliteral">&#39;&lt;/a&gt;&#39;</span>);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    jQuery(<span class="stringliteral">&#39;#pointer-primary&#39;</span>).click(<span class="keyword">function</span> () {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                        &lt;?php echo $button2_function; ?&gt;</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                    });</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    jQuery(<span class="stringliteral">&#39;#pointer-close&#39;</span>).click(<span class="keyword">function</span> () {</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        &lt;?php <span class="keywordflow">if</span> ( $button1_function == <span class="stringliteral">&#39;&#39;</span> ) { ?&gt;</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                            ctct_setIgnore(<span class="stringliteral">&quot;tour&quot;</span>, <span class="stringliteral">&quot;wp-pointer-0&quot;</span>, <span class="stringliteral">&quot;&lt;?php echo wp_create_nonce( &#39;ctct-ignore&#39; ); ?&gt;&quot;</span>);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                            &lt;?php } <span class="keywordflow">else</span> { ?&gt;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                            &lt;?php echo $button1_function; ?&gt;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                            &lt;?php } ?&gt;</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    });</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                    &lt;?php } ?&gt;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            };</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;            <span class="keywordflow">if</span> (&lt;?php _e($key); ?&gt;ctct_pointer_options.position &amp;&amp; &lt;?php _e($key); ?&gt;ctct_pointer_options.position.defer_loading)</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                jQuery(window).bind(<span class="stringliteral">&#39;load.wp-pointers&#39;</span>, &lt;?php _e($key); ?&gt;setup);</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                jQuery(document).ready(&lt;?php _e($key); ?&gt;setup);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        })(jQuery);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        <span class="comment">//]]&gt;</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    &lt;/script&gt;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    &lt;?php</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    }</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;}</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;$CTCT_Pointers = <span class="keyword">new</span> <a class="code" href="class_c_t_c_t___pointers.html" title="This class handles the pointers used in the introduction tour. ">CTCT_Pointers</a>;</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_3f7ee4cd93c2ab56f749882a111b17c4.html">classes</a></li><li class="navelem"><b>class.pointers.php</b></li>
    <li class="footer">Generated on Thu Aug 22 2013 15:09:06 for Constant Contact for WordPress by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
